---
import PageLayout from "@/layouts/PageLayout.astro";
import ContainerSection from "@/components/common/ContainerSection.astro";
import HeaderPortfolio from "@/components/portfolio/common/header-portfolio";
import MoviesAppComponent from "@/components/portfolio/movie-app";
import { pagesSeo } from "@/config/pages";

export const prerender = false;

const { id } = Astro.params;
const baseMeta = pagesSeo["movie-app"];
const meta = {
  ...baseMeta,
  title: `${baseMeta.title}`,
  description: `Movie details for ${id}. ${baseMeta.description}`,
};

const {
  geo: { city },
} = Astro.locals.netlify.context;
---

<PageLayout meta={meta}>
  <ContainerSection>
    <HeaderPortfolio
      client:visible
      title={"Movie App"}
      description={"Dynamic Movie App using OMDb API, includes catalog, detail pages, search functionality."}
      chipsList={[
        "React",
        "Typescript",
        "Tailwind CSS",
        "Radix UI",
        "Rest API",
        "React Query",
        "React Router",
        "Playwright",
      ]}
    />
    <p class="pb-6 text-center">Hello there, friendly visitor from {city || "Unknown City"}!</p>
    <MoviesAppComponent client:only="react" />
  </ContainerSection>
</PageLayout>
